{% extends "base.html" %} {%block title %}Modification des élements{% endblock %}

{% block content %}

<br>
<h1 class="display-4">Modification des élements</h1>
<br>

<form action="/modifier_elements?action=reload" id="selection" method="post">
<div class="container">
    <div class="row">
        <div class="col">
            <h3>Catégorie</h3>
            <select name="id_categorie" id="select-cat" class="form-select form-select-lg mb-3" aria-label=".form-select-lg example">
                {% for cat in cat_keys %}
                    {% if cat.id == id_cat %}
                        <option selected value="{{cat.id}}">{{cat.intitule}}</option>
                    {% else %}
                        <option value="{{cat.id}}">{{cat.intitule}}</option>
                    {% endif %}
                {% endfor %}
            </select>
        </div>
    </div>
</div>
</form>

<br>

    <div class="row">
        <div class="col">
            <h3>Intitulé</h3>
        </div>
        <div class="col">
              <h3>Prix</h3>
        </div>
    </div>

<form action="/modifier_elements?action=save&id_categorie={{id_cat}}" method="post">
    {% for element in Elements %}
        <div class="row">
            <div class="col">
                <input type="text" class="form-control" placeholder="Intitulé" name="{{element[0]}}.intitule" value="{{element[2]}}">
            </div>
            <div class="col">

                <div class="input-group mb-3">
                    <input type="text" class="form-control" placeholder="Prix" name="{{element[0]}}.prix" value="{{element[3]}}" aria-describedby="basic-addon2">
                    <div class="input-group-append">
                        <span class="input-group-text" id="basic-addon2">€</span>
                    </div>
                </div>
                  
            </div>
        </div>
    {% endfor %}
    <div class="row">
        <div class="col">
            <input type="text" class="form-control" placeholder="Intitulé du nouvel élement" name="newitem.intitule">
        </div>
        <div class="col">

            <div class="input-group mb-3">
                <input type="text" class="form-control" placeholder="Prix du nouvel élement" name="newitem.prix" aria-describedby="basic-addon2">
                <div class="input-group-append">
                    <span class="input-group-text" id="basic-addon2">€</span>
                </div>
            </div>
              
        </div>
    </div>
<br>
<button type="submit" class="btn btn-success btn-lg btn-block">Sauvegarder</button>
</form>


<script
          type="text/javascript"
          src="{{ url_for('static', filename='select_element.js') }}"
        ></script>

{% endblock %}